<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farol al D√≠a | Noticias</title>
    <style>
        :root { --naranja: #FF8C00; --negro: #000; --gris: #121212; }
        body { background: var(--negro); color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; }
        header { text-align: center; padding: 40px 20px; border-bottom: 3px solid var(--naranja); background: var(--gris); }
        .container { padding: 20px; max-width: 700px; margin: auto; }
        .card { background: var(--gris); padding: 25px; border-radius: 15px; margin-bottom: 30px; border-left: 6px solid var(--naranja); box-shadow: 0 10px 20px rgba(0,0,0,0.5); }
        h2 { color: var(--naranja); margin: 10px 0; font-size: 1.8em; }
        small { color: #888; text-transform: uppercase; letter-spacing: 1px; font-weight: bold; }
        .news-content { color: #ccc; line-height: 1.7; font-size: 1.1em; }
        /* Estilo para las fotos que suban los periodistas */
        .news-content img { max-width: 100%; border-radius: 10px; margin: 15px 0; border: 1px solid #333; }
        .news-content iframe { width: 100%; border-radius: 10px; margin: 15px 0; }
    </style>
</head>
<body>
    <header>
        <h1 style="color: var(--naranja); margin: 0; font-size: 2.8em; letter-spacing: -1px;">üèÆ FAROL AL D√çA</h1>
        <p style="color: #888; margin-top: 10px;">Noticias en tiempo real desde el coraz√≥n de la acci√≥n.</p>
    </header>

    <div class="container" id="news-list">
        <p style="text-align: center; color: #444;">Cargando √∫ltimas noticias...</p>
    </div>

    <script>
        async function loadNews() {
            try {
                const res = await fetch('/api/news');
                const data = await res.json();
                
                if (data.length === 0) {
                    document.getElementById('news-list').innerHTML = '<p style="text-align:center; color:#555;">No hay reportes disponibles hoy.</p>';
                    return;
                }

                document.getElementById('news-list').innerHTML = data.reverse().map(n => `
                    <div class="card">
                        <small>üìç ${n.location || 'SIN UBICACI√ìN'}</small>
                        <h2>${n.title}</h2>
                        <div class="news-content">${n.content}</div>
                    </div>
                `).join('');
            } catch (e) {
                document.getElementById('news-list').innerHTML = '<p style="text-align:center; color:red;">Error al cargar noticias. Intenta de nuevo.</p>';
            }
        }
        // Cargar noticias al abrir la p√°gina
        loadNews();
    </script>
</body>
</html>
